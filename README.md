리눅스 명령어 (ps, top, jobs, kill)

ps

현재 실행 중인 프로세스를 확인하는 데 사용

다양한 욥션을 통해 프로세스 정보를 상세하게 출력

<기본 사용법>

기본적으로 현재 셸 세션에서 실행 중인 프로세스를 보여줌

기본 명령이 포함하는 필드

PID:프로세스 ID

TTY:프로세스가 연결된 터미널

TIME:프로세스가 사용한 CPU 시간

CMD:프로세스를 실행한 명령어

<주요 옵션 (표준 옵션, BSD 스타일 옵션, GNU 스타일 옵션)>

- 표준 옵션

'-e' 또는 '-A': 시스템의 모든 프로세스 표시

'f': 풀 포맷 출력.

'-U user': 특정 사용자의 프로세스와 그 하위 프로세스 표시

'-p pid': 특정 PID를 가진 프로세스만 표시

'-t tty': 특정 터미널에서 실행되는 프로세스 표시

'-x': 터미널에 속하지 않은 프로세스도 포함

- BSD 스타일 옵션

'aux': 시스템의 모든 프로세스를 상세히 출력

'a'는 다른 사용자의 프로세스도 포함

'u'는 사용자 중심 포맷 사용

'x'는 터미널에 속하지 않은 프로세스 포함

'aux' 출력 필드

USER: 프로세스를 실행한 사용자

PID: 프로세스 ID

%CPU: CPU 사용률

%MEM: 메모리 사용률

VSZ: 가상 메모리 사용량

RSS: 실제 메모리 사용량

TTY: 프로세스가 연결된 터미널

STAT: 프로세스 상태

START: 프로세스가 시작된 시간

TIME: 프로세스가 사용한 CPU시간

COMMAND: 실행된 명령어

- GNU 스타일 옵션

'--forest': 트리 형식으로 프로세스를 출력하여 부모-자식 관계를 시각화

'--sort': 특정 필드를 기준으로 정렬

<사용 예시>

1. 현재 사용자와 관련된 모든 프로세스 표시
2. 특정 프로세스 ID에 대한 정보 표시
3. 시스템의 모든 프로세스를 풀 포맷으로 표시
4. CPU 사용률을 기준으로 프로세스 정렬
5. 트리 형식으로 모든 프로세스 표시

top

실시간으로 시스템 상태와 성능을 모니터링하는 도구로, 다양한 정보 제공

<기본 사용법>

터미널에서 'top' 입력 후 엔터 키 누르기

<화면 구성 (시스템 요약 정보, 프로세스 목록)>

- 시스템 요약 정보 : 화면 상단에 시스템의 전반적인 상태를 보여주는 요약 정보 표시

  1. 시스템 시간, 시스템 부팅 후 경과 시간, 사용자 수
  2. 작업 및 프로세스 상태
  
     total: 총 프로세스 수

     running: 실행 중인 프로세스 수

     sleeping: 대기 중인 프로세스 수

     stopped: 중지된 프로세스 수

     zombie: 좀비 프로세스 수

  4. CPU 상태

     us(user): 사용자 영역에서 사용중인 CPU 비율

     sy(system): 커널 영역에서 사용 중인 CPU 비율

     ni(nice): 낮은 우선순위에서 사용 중인 CPU 비율

     id(idle): 유휴 상태의 CPU 비율

     wa(IO wait): I/O 대기 시간의 비율

     hi(hardware interrupts): 하드웨어 인터럽트 처리에 사용되는 CPU 비율

     si(software interrupts): 소프트웨어 인터럽트 처리에 사용되는 CPU 비율

     st(steal time): 가상화 환경에서 다른 가상 머신에 의해 사용된 CPU 시간

  6. 메모리 상태

     total: 총 메모리 용량

     free: 사용 가능한 메모리

     used: 사용 중인 메모리

     buff/cache: 버퍼와 캐시로 사용되는 메모리

  8. 스왑 메모리 상태

     total: 총 스왑 메모리 용량

     free: 사용 가능한 스왑 메모리

     used: 사용 중인 스왑 메모리

     avail Mem: 스왑을 사용하지 않고도 사용할 수 있는 메모리
     
- 프로세스 목록 : 화면 하단에 현재 실행 중인 프로세스 목록이 표시됨

  PID: 프로세스 ID
  
  USER: 프로세스를 실행하는 사용자

  PR: 프로세스 우선 순위

  NI: 프로세스의 nice 값

  VIRT: 가상 메모리 사용량

  RES: 실제 메모리 사용량

  SHR: 공유 메모리 사용량

  S: 프로세스 상태 (R: 실행중, S: 대기, T: 멈춤, Z: 좀비)

  %CPU: CPU 사용률

  %MEM: 메모리 사용률

  TIME+: 프로세스가 사용한 총 CPU 시간

  COMMAND: 실행된 명령어

<주요 옵션>

'top' 명령어는 다양한 옵션을 사용하여 출력형식 조정 가능

'-d seconds': 갱신 간격 설정

'-p pid': 특정 PID를 모니터링

'-u user': 특정 사용자의 프로세스만 모니터링

'-n num': 업데이트 횟수 설정

'-b':배치 모드로 실행하여 주기적으로 프로세스 상태를 출력
  
<상호작용 키>

'top' 명령어 실행 중에 다양한 명령을 통해 정보를 변경하거나 정렬할 수 있음

'h': 도움말 화면 표시

'k': 특정 프로세스를 종료. 프로세스 ID와 신호 번호를 입력해야 함

'r': 특정 프로세스의 우선순위를 변경. 프로세스 ID와 신호 번호를 입력해야 함

'q': 'top' 종료

'z': 컬러모드를 켜거나 끔

'M': 메모리 사용량을 기준으로 정렬

'P': CPU 사용량을 기준으로 정렬

'T': 프로세스가 사용한 시간 기준으로 정렬

'1': 각 CPU의 개별 사용량 표시

jobs

현재 셸 세션에서 실행 중이거나 중지된 작업을 표시하는 데 사용됨

작업은 백그라운드 또는 포그라운드에서 실행중인 명령을 의미

<기본 사용법>

터미널에서 'jobs' 입력

실행하면 현재 셸 세션에서 실행중인 모든 작업 목록 출력됨

<출력 형식>

job_id: 작업의 ID. 대괄호 안에 표시되며, 셸 세션 내에서 유일

status: 작업의 상태. ex)'Running'(실행 중), 'Stopped'(중지됨), 'Done'(완료됨)

command: 작업을 시작한 명령

<주요 옵션>

'jobs' 명령어는 여러 옵션을 통해 출력 형식 조정 가능

'-1': 각 작업에 대한 PID를 포함하여 자세한 정보 표시

'-p': 각 작업의 프로세스 ID만 표시

'-n': 최근에 상태가 변경된 작업만 표시

'-r': 현재 실행 중인 작업만 표시

'-s': 현재 중지된 작업만 표시

<예제>

1. 현재 셸 세션의 모든 작업 표시
2. 각 작업에 대한 PID 포함하여 표시
3. 각 작업의 프로세스 ID만 표시
4. 최근에 상태가 변경된 작업만 표시
5. 현재 실행 중인 작업만 표시
6. 현재 중지된 작업만 표시

<관련 명령어(bg, fg, kill 명령어와 함께 사용하여 작업 제어 가능)>

'bg[job_id]': 중지된 작업을 백그라운드에서 실행

'fg[job_id]': 작업을 포그라운드로 가져와 실행

'kill[pid]': 작업 종료

<예제 시나리오>

1. 백그라운드에서 작업 실행
2. 현재 작업 확인
3. 백그라운드에서 실행 중인 작업을 중지
4. 중지된 작업을 백그라운드에서 재개
5. 백그라운드 작업을 포그라운드로 가져오기

kill

실행 중인 프로세스를 종료하거나 신호를 보낼 때 사용됨

단순히 프로세스를 종료하는 기능 외에도 다양한 신호를 프로세스에 보낼 수 있는 강력한 도구

<기본 사용법>

터미널에서 'kill' 명령어를 사용하여 특정 프로세스를 종료

<주요 신호>

여러 신호를 프로세스에 보낼 수 있으며, 각 신호는 특정한 동작 유발

가장 일반적으로 사용되는 신호

'-1': 프로세스 재시작

'-2': 인터럽트 신호. 일반적으로 Ctrl+C로 전송됨

'-9': 강제로 프로세스를 종료

'-15': 종료 신호로, 프로세스를 정상적으로 종료. 기본신호

'-19': 프로세스를 일시 정지

'-18': 일시 정지된 프로세스 재개

<예제>

1. 기본 사용법
2. 강제 종료
3. 프로세스 재시작
4. 일시 정지 및 재개

<다른 유용한 옵션>

'-1': 사용할 수 있는 모든 신호 나열

'-s <signal>': 특정 신호를 지정하여 보냄

'-p': 신호를 보내지 않고 프로세스 ID만 확인

'-a': 모든 사용자에게 신호 보냄
